{% include "ournav.html" %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Study</title>
    <script>
        function mode() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString)
            if (urlParams.get('mode') == "Single-Q" ) {
                document.getElementById("quizS").style.display="block"
                document.getElementById("selector").style.display = "none"
            } else if (urlParams.get('mode')=='test') {
                document.getElementById("quizT").style.display = "block"
                document.getElementById("selector").style.display = "none"
            } else if (urlParams.get('mode')==None) {
                document.getElementById('message').style.display='none'
            } else{
                document.getElementById('message').style.display = "block"
            }

        }
        function checkAns() {
            let answer = document.getElementById("ans").innerText;
            let userAns = document.getElementById("userans").value
            if (userAns.toLowerCase()==answer.toLowerCase()) {
                document.getElementById("results").innerText="THE ANSWER IS CORRECT"
            } else {
                document.getElementById("results").innerText= ("your answer is incorrect. the correct answer is \""+answer + "\". you answered \"" + userAns+"\"")
            }

        }

        function select() {
            const rbs = document.querySelectorAll('input[name="mode"]');
            let selectedValue;
            for (const rb of rbs) {
                if (rb.checked) {
                    selectedValue=rb.value;
                    break;
                }
            }
            if (selectedValue=="Single-Q") {
                document.getElementById("quizS").style.display="block"
            } else {
                document.getElementById("quizT").style.display="block"
            }
        }
    </script>
    <style>
        #selector {
            margin: 0 auto;
            width: 80%;
            padding:2em;
        }
        /*#selector form {
            padding: 2em;
        }*/

        #selector label {
            margin-bottom: 20px;
        }
        .quiz {
            margin: 0 auto;
            text-align: center;
            width: 60%;
            padding: 3em;
        }
        .quiz input {
            width: 100%;
            padding: 1em;
            box-sizing: border-box;
            outline: none;
            border: none ;
            border-radius: 10px;
        }
        .quiz input:focus {
            background-color: #ffffff;
            outline: none;
            border: none;
        }
        .quiz h3,.quiz input,.quiz button,.quiz p {
            margin-bottom: 25px;
        }
        .quiz button {
            width: 100%;
        }
        a {
            text-decoration: none;
            color: #000000;
        }
        .but {
            font-size: 14px;
            padding: 1em;
            border: 2px solid #0e387a;
            border-radius: 20px;
            background-color: transparent;
            transition: background-color .5s;
        }
        .but:hover {
            background-color: #0e387a;
            color: #ffffff;
        }


    </style>
</head>
<body onload="mode()">
<h1 style="text-align: center">TRIVIA QUIZ</h1>
<div id="selector">
    <h2 style="margin-bottom: 15px;">Select Mode</h2>
<form>
    <input type="radio" name="mode" value="Single-Q" id="SQ">
    <label for="SQ">Single Question</label>
    <br>
    <input type="radio" name="mode" value="test" id="test">
    <label for="test">Test</label>
    <br>
    <button id="sub" onclick="select()">Submit</button>
</form>
</div>
<div class="quiz" id="quizS" style="display: none">
    <h3 style="color: black">{{ question[0]['question']}}</h3>
    <input type="text" id="userans" placeholder="answer goes here">
    <br>
    <button class="but" onclick="checkAns()">SUBMIT</button>
    <!--<form action="/quiz/" method="post">
        <label>Answer: </label>
        <input type="text" id="userans" name="ANSWER" value={{ ANSWER }}><br>

        <br>
        <button id="test" onclick="checkAns()">submit</button>
    </form>-->
    <p id = "ans"style="display:none">{{ question[0]['answer'] }}</p>
    <p id="results"></p>
    <a class="but" href="/quiz?mode=Single-Q">Next Question &#10148;</a>
</div>
<div id="quizT" style="display: none">
    <p>test mode under construction</p>
</div>
<p id="message" style="display: none;">mode not available</p>
</body>
</html>